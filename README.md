# 🇺🇸 MYGA TWEETS - 트럼프 스타일 AI 상담소

## 1. 프로젝트 개요

### 1.1. 프로젝트명
MYGA TWEETS (Make Your Great Again - TWEETS)

### 1.2. 목표
도널드 트럼프의 발언 스타일과 경험을 학습한 AI가 사용자의 고민과 질문에 대해 트럼프만의 독특하고 강력한 조언을 제공하는 대화형 웹 서비스입니다. 복잡한 인생 문제에 대해 직설적이고 자신감 넘치는 트럼프식 해결책을 통해 사용자에게 동기부여와 실용적인 조언을 제공하는 것을 목표로 합니다.

### 1.3. 주요 기능
- **RAG 기반 맞춤형 답변**: 트럼프의 실제 발언 데이터베이스를 활용하여 상황에 맞는 현실적인 조언을 생성합니다.
- **트위터 스타일 UI**: 실제 트럼프 트위터 계정을 완벽하게 재현한 인터페이스로 몰입감 있는 경험을 제공합니다.
- **대화 맥락 관리**: 이전 대화 내용을 기억하여 연속적이고 자연스러운 상담이 가능합니다.
- **실시간 상호작용**: 즉시 응답하는 채팅 형태로 마치 실제 트럼프와 대화하는 듯한 경험을 제공합니다.
- **디버그 모드**: 개발자와 고급 사용자를 위한 AI 추론 과정 확인 기능을 포함합니다.

---

## 2. 프로젝트 설명

### 2.1. 주요 기능과 사용법

1. **웹사이트 접속**: 애플리케이션 실행 후 트럼프 공식 트위터 프로필이 재현된 인터페이스가 표시됩니다.
   - 실제 트럼프 프로필 사진, 배너, 팔로워 수 등이 완벽하게 구현되어 있습니다.
   - 트위터와 동일한 다크 테마와 레이아웃을 제공합니다.

2. **고민 입력**: 하단 고정 입력창에 현재의 고민이나 질문을 입력합니다.
   - 인사말: "안녕하세요, 트럼프 대통령님"
   - 인생 고민: "요즘 취업이 안 되어서 너무 힘들어요"
   - 사업 문의: "스타트업을 시작하려는데 조언 부탁드립니다"

3. **트럼프 스타일 답변 확인**: AI가 트럼프의 발언 패턴과 경험을 바탕으로 맞춤형 조언을 제공합니다.
   - 자신만만한 어조와 구체적인 성공 경험담 포함
   - 실명 언급과 디테일한 일화로 현실감 있는 답변
   - 강력하고 직설적인 마무리 문장

4. **연속 대화**: 이전 대화 맥락을 기억하여 자연스러운 후속 질문과 답변이 가능합니다.
   - 대화 히스토리 기반 맥락 이해
   - 지난 답변과 차별화된 새로운 관점 제시

5. **대화 관리**: 초기화 버튼으로 새로운 상담 세션을 시작하거나 디버그 모드로 AI 동작을 확인할 수 있습니다.

### 2.2. 코드 설명

본 프로젝트는 Python 기반의 **Streamlit** 프레임워크로 웹 애플리케이션을 구축했으며, 핵심 AI 로직은 **LangChain**과 **OpenAI GPT** 모델을 사용하여 구현했습니다.

- **`app.py`**: Streamlit 앱의 전체 UI 구성과 사용자 인터랙션, 상태 관리를 담당하는 메인 파일입니다. `st.session_state`를 활용하여 사용자의 대화 히스토리(`chat_history`)를 관리합니다.

- **데이터 로드 및 벡터화 (`setup_trump_rag_system`)**:
  - `trump_all.txt` 파일에서 카테고리별로 구분된 트럼프 발언 데이터를 로드합니다.
  - `OpenAIEmbeddings`를 사용해 텍스트를 벡터로 변환하고, `FAISS` 벡터 저장소를 구축하여 RAG(Retrieval-Augmented Generation) 검색을 준비합니다.
  - 기존 벡터DB가 있으면 로드하고, 없으면 새로 생성하여 성능을 최적화합니다.

- **LangChain 체인(Chain) 아키텍처**:
  - **`trump_prompt`**: 이 프로젝트의 핵심으로, 트럼프 스타일 답변 생성을 위한 상세한 프롬프트 템플릿입니다.
    1. **대화 연결성**: 이전 대화 맥락을 파악하여 자연스러운 대화 흐름을 유지합니다.
    2. **인사말/잡담 처리**: 모호한 입력에 대해 트럼프식 직설적 반응을 생성합니다.
    3. **고민 상담 규칙**: 실제 고민에 대해서는 자기 자랑, 구체적 경험담, 강력한 마무리가 포함된 답변을 생성합니다.
  - **`get_relevant_context`**: 사용자 질문과 관련된 트럼프 발언을 벡터 검색으로 찾아 컨텍스트로 제공합니다.

- **대화 관리 시스템**:
  - **`get_recent_conversation_context`**: 최근 4턴의 대화만 유지하여 컨텍스트 크기를 관리합니다.
  - **`generate_stable_stats`**: 메시지 내용을 해시하여 일관된 가짜 트위터 통계(좋아요, 리트윗 등)를 생성합니다.

- **핵심 로직 (`메시지 처리`)**:
  - 사용자 입력을 받으면 대화 히스토리에 추가하고, RAG 검색을 통해 관련 컨텍스트를 찾습니다.
  - 현재 입력과 대화 맥락을 결합하여 검색 쿼리를 최적화합니다.
  - GPT 모델에 프롬프트, 컨텍스트, 대화 히스토리를 전달하여 트럼프 스타일 답변을 생성합니다.
  - 생성된 답변을 대화 히스토리에 추가하고 실시간으로 화면을 업데이트합니다.

### 2.3. 기술적 특징

- **RAG 시스템**: 트럼프의 실제 발언 데이터를 벡터화하여 상황에 맞는 답변의 근거를 제공합니다.
- **컨텍스트 최적화**: 대화 길이와 검색 정확도의 균형을 맞춘 효율적인 메모리 관리를 구현했습니다.
- **UI/UX 완성도**: CSS를 활용한 픽셀 퍼펙트 트위터 재현으로 높은 사용자 몰입감을 제공합니다.
- **확장성**: 모듈화된 구조로 다른 인물이나 스타일로 쉽게 확장 가능합니다.

---

## 3. 설치 및 실행

### 3.1. 환경 설정
```bash
# 저장소 클론
git clone <repository-url>
cd myga-tweets

# 의존성 설치
pip install streamlit langchain langchain-community langchain-openai faiss-cpu python-dotenv
```

### 3.2. 환경 변수 설정
`.env` 파일을 생성하고 OpenAI API 키를 추가하세요:
```env
OPENAI_API_KEY=your_openai_api_key_here
```

### 3.3. 데이터 파일 준비
프로젝트 루트에 `trump_all.txt` 파일이 필요합니다. 형식:
```
### [CATEGORY] 정치
트럼프의 정치 관련 발언들...

### [CATEGORY] 사업
트럼프의 사업 관련 발언들...
```

### 3.4. 애플리케이션 실행
```bash
streamlit run app.py
```

---

## 4. 주요 기술 스택

- **Frontend**: Streamlit, HTML/CSS, JavaScript
- **AI/ML**: OpenAI GPT-4o-mini, LangChain, FAISS
- **Backend**: Python, Vector Database
- **Data**: RAG (Retrieval-Augmented Generation)

---

**MAKE YOUR LIFE GREAT AGAIN! 🔥🇺🇸**
